# Environment Configuration
# Copy this to .env and fill in your actual values

# ============================================================================
# DATABASE (Supabase / PostgreSQL)
# ============================================================================
DB_HOST=db.your-project.supabase.co
DB_PORT=5432
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=your-supabase-password

# Supabase direct connection string
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres

# ============================================================================
# OPENAI API
# ============================================================================
OPENAI_API_KEY=sk-proj-...your-key-here

# Model Configuration
OPENAI_CLASSIFICATION_MODEL=gpt-4o-mini
OPENAI_RESPONSE_MODEL=gpt-4o
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ============================================================================
# SLACK INTEGRATION
# ============================================================================
SLACK_BOT_TOKEN=xoxb-...your-bot-token
SLACK_SIGNING_SECRET=...your-signing-secret

# Slack Channels (get IDs from Slack)
SLACK_CHANNEL_ALERTS=#engineering-alerts
SLACK_CHANNEL_BILLING=#support-billing
SLACK_CHANNEL_TECHNICAL=#support-technical
SLACK_CHANNEL_ACCOUNTS=#support-accounts
SLACK_CHANNEL_GENERAL=#support-general

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================
# Incoming emails (IMAP)
EMAIL_IMAP_HOST=imap.gmail.com
EMAIL_IMAP_PORT=993
EMAIL_IMAP_USER=support@yourcompany.com
EMAIL_IMAP_PASSWORD=your-app-password

# Outgoing emails (SMTP)
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=support@yourcompany.com
EMAIL_SMTP_PASSWORD=your-app-password
EMAIL_FROM_NAME=Support Team
EMAIL_FROM_ADDRESS=support@yourcompany.com

# ============================================================================
# N8N CONFIGURATION
# ============================================================================
N8N_HOST=localhost
N8N_PORT=5678
N8N_WEBHOOK_URL=https://your-n8n-instance.com

# N8N Webhook paths
WEBHOOK_TICKET_INTAKE=/webhook/ticket-intake
WEBHOOK_AI_TRIAGE=/webhook/ai-triage
WEBHOOK_ROUTING=/webhook/routing

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
COMPANY_NAME=Your Company Name
SUPPORT_EMAIL=support@yourcompany.com
APP_ENV=development

# Timezone
TZ=America/New_York

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_AUTO_RESPONSE=true
ENABLE_SPAM_DETECTION=true
ENABLE_AI_TRIAGE=true
AUTO_RESOLVE_SIMPLE_TICKETS=true

# Thresholds
AI_CONFIDENCE_THRESHOLD=0.85
AUTO_RESPONSE_CONFIDENCE_THRESHOLD=0.90
SPAM_CONFIDENCE_THRESHOLD=0.90

# ============================================================================
# RATE LIMITING
# ============================================================================
OPENAI_RATE_LIMIT_RPM=60
MAX_TICKETS_PER_EMAIL_PER_DAY=20
MAX_REQUESTS_PER_IP_PER_HOUR=100

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
LOG_LEVEL=info
ENABLE_ERROR_NOTIFICATIONS=true
ENABLE_SLA_ALERTS=true

# ============================================================================
# OPTIONAL: ADVANCED FEATURES
# ============================================================================
# Knowledge Base (if using vector search)
ENABLE_KB_SEARCH=false
# KB_VECTOR_DIMENSION=1536

# Multi-language support
# ENABLE_AUTO_TRANSLATE=false
# SUPPORTED_LANGUAGES=en,es,fr,de

# Analytics Dashboard
# GRAFANA_URL=http://localhost:3000
# METABASE_URL=http://localhost:3001
